---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kakaocloud_instance Resource - kakaocloud"
subcategory: ""
description: |-
  The kakaocloud_instance resource allows you to create and manage virtual machine (VM) or bare metal (BM) instances in KakaoCloud.
  You can specify compute configurations such as instance type, image, and attached volumes, as well as networking details including subnets and security groups.
  This resource also provides access to detailed metadata and status information, enabling full lifecycle management of instances for various workloads and environments.
---

# kakaocloud_instance (Resource)

The `kakaocloud_instance` resource allows you to create and manage virtual machine (VM) or bare metal (BM) instances in KakaoCloud.
You can specify compute configurations such as instance type, image, and attached volumes, as well as networking details including subnets and security groups.
This resource also provides access to detailed metadata and status information, enabling full lifecycle management of instances for various workloads and environments.

## Example Usage

```terraform
# Manage example volume.
resource "kakaocloud_instance" "example" {
  name              = "example"
  description       = "terraform test"
  size              = 1
  availability_zone = "kr-central-2-a"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `flavor_id` (String) Instance type ID <br/> - Refer to [List instance types](https://docs.kakaocloud.com/openapi/bcs/list-instance-types) API
- `image_id` (String) Unique ID of the image
- `name` (String) Instance name
- `subnets` (Attributes List) List of subnets to connect (see [below for nested schema](#nestedatt--subnets))

### Optional

> **NOTE**: [Write-only arguments](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments) are supported in Terraform 1.11 and later.

- `availability_zone` (String) Name of the availability zone where the instance was created
- `description` (String) Description of the instance
- `initial_security_groups` (Attributes Set) List of initial security groups for the instance (see [below for nested schema](#nestedatt--initial_security_groups))
- `is_bonding` (Boolean) Whether to enable network interface bonding <br/> - Required only when creating Bare Metal (`bm`) instances
- `is_hyper_threading` (Boolean) Whether hyper-threading is enabled
- `key_name` (String) Key pair name applied to the instance
- `status` (String) Instance status <br/> - Refer to [Instance state and billing](https://docs.kakaocloud.com/en/service/bcs/vm/vm-main#instance-state-and-billing)
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))
- `user_data` (String, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) User data script executed during instance initialization (runs only on the first boot)<br/> - Enter up to 16KB of user data script and `cloud-init` commands<br/> - Input must be a Base64-encoded string<br/> - Script is copied under `/var/lib/cloud/instances` and executed<br/>
- To check execution logs, run:<br/>
ㄴ Ubuntu: `sudo cat /var/log/syslog` or `sudo journalctl -u cloud-final.service`<br/>
ㄴ CentOS: `sudo cat /var/log/messages` or `sudo journalctl -u cloud-final.service`<br/>
<br/>
⚠️ Entering incorrect or incomplete scripts may cause boot failure.
- `volumes` (Attributes List) Volumes to attach to the instance (see [below for nested schema](#nestedatt--volumes))

### Read-Only

- `addresses` (Attributes List) Network addresses associated with the instance (see [below for nested schema](#nestedatt--addresses))
- `attached_volume_count` (Number) Number of block storage volumes attached to the instance
- `attached_volumes` (Attributes List) List of attached volumes (see [below for nested schema](#nestedatt--attached_volumes))
- `created_at` (String) Time when the resource was created <br/> - ISO_8601 format <br/> - Based on UTC
- `flavor` (Attributes) Instance type (see [below for nested schema](#nestedatt--flavor))
- `hostname` (String) Host name of the instance
- `id` (String) Instance ID
- `image` (Attributes) Image information of the instance (see [below for nested schema](#nestedatt--image))
- `instance_type` (String) Instance type
- `is_hadoop` (Boolean) Whether the instance was created for a Hadoop environment
- `is_k8se` (Boolean) Whether the instance was created for a Kubernetes Engine environment
- `metadata` (Map of String) User-defined metadata
- `power_state` (String) Power state code
- `project_id` (String) Project ID the instance belongs to
- `security_group_count` (Number) Number of security groups attached to the instance
- `security_groups` (Attributes Set) List of security groups attached to the instance (see [below for nested schema](#nestedatt--security_groups))
- `task_state` (String) Current task state
- `updated_at` (String) Time when the resource was last modified <br/> - ISO_8601 format <br/> - Based on UTC
- `user_id` (String) ID of the user who created the instance
- `vm_state` (String) Internal VM state value

<a id="nestedatt--subnets"></a>
### Nested Schema for `subnets`

Required:

- `id` (String) ID of the subnet to attach to the instance

Optional:

- `network_interface_id` (String) ID of the network interface to use <br/> - Cannot be used together with `private_ip`
- `private_ip` (String) Manually assign a private IP if needed <br/> - Use when a static IP configuration is required instead of auto-assignment <br/> - Cannot be used together with `network_interface_id`


<a id="nestedatt--initial_security_groups"></a>
### Nested Schema for `initial_security_groups`

Required:

- `name` (String) Security group name


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--volumes"></a>
### Nested Schema for `volumes`

Optional:

- `encryption_secret_id` (String) Encryption key ID <br/> - Field name `encryption_secret_uuid` has been changed to `encryption_secret_id`<br/> - Requests with `encryption_secret_uuid` are still processed but will be deprecated in the future<br/> - If both `encryption_secret_id` and `encryption_secret_uuid` are provided, only `encryption_secret_id` will be used
- `id` (String) Input value depends on `source_type`<br/>- `volume`: existing volume ID<br/>- `image`: image ID (default is `instance.image_id` in the request body)<br/>- `null`: not used<br/>- `blank`: omit
- `image_id` (String) Unique ID of the image
- `is_delete_on_termination` (Boolean) Whether to automatically delete the volume when the instance is terminated <br/> - First volume: default `true`<br/> - Additional volumes: default `false`
- `size` (Number) Volume size (GB) <br/> - Allowed range: 1 ~ 16384<br/> - For `source_type = image`, must be greater than or equal to the image's `min_disk`; for Windows images, supports up to 2048GB
- `type_id` (String) Volume type ID of the block storage to attach (currently only `gp2` general-purpose SSD supported)<br/> - Required only for `image` or `blank` source types<br/> - Refer to `volume_types.id` from [List volume types](https://docs.kakaocloud.com/openapi/bcs/list-volume-types)


<a id="nestedatt--addresses"></a>
### Nested Schema for `addresses`

Read-Only:

- `network_interface_id` (String) Connected network interface ID
- `private_ip` (String) Private IP address (IPv4 format)
- `public_ip` (String) Public IP address


<a id="nestedatt--attached_volumes"></a>
### Nested Schema for `attached_volumes`

Read-Only:

- `created_at` (String) Time when the resource was created <br/> - ISO_8601 format <br/> - Based on UTC
- `id` (String) ID of the attached volume
- `is_delete_on_termination` (Boolean) Whether the volume is automatically deleted when the instance is terminated
- `is_root` (Boolean) Whether the volume is the root disk
- `mount_point` (String) Mount path of the volume on the instance
- `name` (String) Volume name
- `size` (Number) Volume size (in GB)
- `status` (String) Volume status
- `type` (String) Volume type


<a id="nestedatt--flavor"></a>
### Nested Schema for `flavor`

Read-Only:

- `disk_type` (String) Disk type
- `group` (String) Instance type group
- `hw_count` (Number) Number of hardware components included in this instance type <br/> - Example: number of GPUs
- `hw_type` (String) Hardware type <br/> - Example: GPU
- `id` (String) Instance type ID
- `instance_family` (String) Instance family
- `is_burstable` (Boolean) Whether it is a [burstable instance](https://docs.kakaocloud.com/en/service/bcs/bcs-instance/bcs-type/general-purpose/burstable-main)
- `is_hyper_threading_supported` (Boolean) Whether hyper-threading is supported
- `manufacturer` (String) Manufacturer information
- `maximum_network_interfaces` (Number) Maximum number of network interfaces
- `memory_mb` (Number) Memory size (MB, default: 0)
- `name` (String) Instance type name
- `os_distro` (List of String) Operating system distribution
- `real_vcpus` (Number) Number of actually allocated vCPUs
- `root_gb` (Number) Root disk size (GB, default: 0)
- `vcpus` (Number) Number of vCPUs


<a id="nestedatt--image"></a>
### Nested Schema for `image`

Read-Only:

- `created_at` (String) Time when the resource was created <br/> - ISO_8601 format <br/> - Based on UTC
- `description` (String) Description of the image
- `disk_format` (String) Disk format of the image
- `id` (String) Unique ID of the image
- `image_type` (String) Image type
- `instance_type` (String) Type of instance
- `is_windows` (Boolean) Whether the image is a Windows operating system
- `member_status` (String) Status of the shared image
- `min_disk` (Number) Minimum disk size required to use the image (GB)
- `min_memory` (Number) Minimum memory size required to use the image (MB)
- `name` (String) Image name
- `os_admin` (String) Default administrator account name of the image
- `os_architecture` (String) Operating system architecture
- `os_distro` (String) Operating system distribution
- `os_type` (String) Operating system type
- `owner` (String) Owner of the image (project ID that owns the image)
- `size` (Number) Image size (in bytes)
- `status` (String) Image status
- `updated_at` (String) Time when the resource was last modified <br/> - ISO_8601 format <br/> - Based on UTC


<a id="nestedatt--security_groups"></a>
### Nested Schema for `security_groups`

Optional:

- `name` (String) Security group name

Read-Only:

- `id` (String) Security group ID

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Volume can be imported by specifying the uuid.
terraform import kakaocloud_instance.example xxxxxx-yyyy-zzzz-81e8-836ebe461ba6
```

---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kakaocloud_load_balancer_l7_policy_rule Resource - kakaocloud"
subcategory: ""
description: |-
  Represents a KakaoCloud Load Balancer L7 Policy Rule resource.
---

# kakaocloud_load_balancer_l7_policy_rule (Resource)

Represents a KakaoCloud Load Balancer L7 Policy Rule resource.

## Example Usage

```terraform
# Copyright (c) HashiCorp, Inc.
# SPDX-License-Identifier: MPL-2.0

# Example: Create an L7 policy rule for path-based routing
resource "kakaocloud_load_balancer_l7_policy_rule" "path_rule" {
  l7_policy_id = "2415269a-7142-455a-a7c8-9082dd146c57" # Replace with your L7 policy ID
  type         = "PATH"
  compare_type = "STARTS_WITH"
  value        = "/api/"
  is_inverted  = false

  # Optional: Configure timeouts
  timeouts {
    create = "5m"
    update = "5m"
    delete = "5m"
  }
}

# Example: Create an L7 policy rule for header-based routing
resource "kakaocloud_load_balancer_l7_policy_rule" "header_rule" {
  l7_policy_id = "2415269a-7142-455a-a7c8-9082dd146c57" # Replace with your L7 policy ID
  type         = "HEADER"
  compare_type = "EQUAL_TO"
  key          = "User-Agent"
  value        = "MobileApp/1.0"
  is_inverted  = false

  # Optional: Configure timeouts
  timeouts {
    create = "5m"
    update = "5m"
    delete = "5m"
  }
}

# Example: Create an L7 policy rule for host-based routing
resource "kakaocloud_load_balancer_l7_policy_rule" "host_rule" {
  l7_policy_id = "2415269a-7142-455a-a7c8-9082dd146c57" # Replace with your L7 policy ID
  type         = "HOST_NAME"
  compare_type = "EQUAL_TO"
  value        = "api.example.com"
  is_inverted  = false

  # Optional: Configure timeouts
  timeouts {
    create = "5m"
    update = "5m"
    delete = "5m"
  }
}

# Example: Create an L7 policy rule for cookie-based routing
resource "kakaocloud_load_balancer_l7_policy_rule" "cookie_rule" {
  l7_policy_id = "2415269a-7142-455a-a7c8-9082dd146c57" # Replace with your L7 policy ID
  type         = "COOKIE"
  compare_type = "CONTAINS"
  key          = "session_type"
  value        = "premium"
  is_inverted  = false

  # Optional: Configure timeouts
  timeouts {
    create = "5m"
    update = "5m"
    delete = "5m"
  }
}

# Example: Create an L7 policy rule for file type-based routing
resource "kakaocloud_load_balancer_l7_policy_rule" "file_type_rule" {
  l7_policy_id = "2415269a-7142-455a-a7c8-9082dd146c57" # Replace with your L7 policy ID
  type         = "FILE_TYPE"
  compare_type = "EQUAL_TO"
  value        = "jpg"
  is_inverted  = false

  # Optional: Configure timeouts
  timeouts {
    create = "5m"
    update = "5m"
    delete = "5m"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `compare_type` (String) Rule comparison method
- `l7_policy_id` (String) ID of the L7 policy where the rule will be added
- `type` (String) Target type to check the rule against
- `value` (String) Value to compare

### Optional

- `is_inverted` (Boolean) Whether to invert the comparison result of the rule
- `key` (String) Comparison key
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) ID of the created L7 rule
- `operating_status` (String) Operating status
- `project_id` (String) Project ID that owns the resource
- `provisioning_status` (String) Provisioning status

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
#!/bin/bash

# Copyright (c) HashiCorp, Inc.
# SPDX-License-Identifier: MPL-2.0

# Example import script for kakaocloud_load_balancer_l7_policy_rule
# Usage: ./import.sh <l7_policy_id>,<rule_id>

if [ $# -ne 1 ]; then
    echo "Usage: $0 <l7_policy_id>,<rule_id>"
    echo "Example: $0 2415269a-7142-455a-a7c8-9082dd146c57,8a7a1ca5-c687-4a9a-999b-a169ee248ade"
    exit 1
fi

IMPORT_ID=$1

# Import the L7 policy rule
terraform import kakaocloud_load_balancer_l7_policy_rule.path_rule "$IMPORT_ID"

echo "Import completed for L7 policy rule with ID: $IMPORT_ID"
echo "Note: You may need to update the resource configuration to match the imported resource."
```

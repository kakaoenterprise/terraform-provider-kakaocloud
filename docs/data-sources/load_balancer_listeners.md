---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kakaocloud_load_balancer_listeners Data Source - kakaocloud"
subcategory: ""
description: |-
  The kakaocloud_load_balancer_listeners data source retrieves a list of listeners associated with KakaoCloud Load Balancers.
  It supports filtering by attributes such as name and returns details including protocol, port, connection limits, TLS configuration, associated L7 policies, and SSL certificates.
  Use this data source when you need to:
  Query multiple listeners dynamically instead of hardcoding listener IDs.Filter listeners by attributes (e.g., name, protocol, or port) for use in other Terraform resources.Validate that listeners are configured correctly before attaching them to load balancers or applying policies.
  Available filters
  | Filter            | Type                        | Description |
  |-----------------------|-----------------------------|-------------|
  | id                    | string                     | Unique ID of the listener |
  | load_balancer_id      | string                     | ID of the associated load balancer |
  | protocol              | string                  | Protocol used by the listener <br>Possible values: <br>- `HTTP`: HTTP <br>- `TCP`: TCP <br>- `UDP`: UDP <br>- `TERMINATED_HTTPS`: SSL-terminated HTTPS |
  | protocol_port         | string                     | Port number on which the listener receives traffic |
  | provisioning_status   | string       | Provisioning status <br>- `ACTIVE`: Active <br>- `DELETED`: Deleted <br>- `ERROR`: Error <br>- `PENDING_CREATE`: Pending creation <br>- `PENDING_UPDATE`: Pending update <br>- `PENDING_DELETE`: Pending deletion |
  | operating_status      | string | Operating status <br>- `ONLINE`: Online <br>- `DRAINING`: Draining connections <br>- `OFFLINE`: Offline <br>- `DEGRADED`: Degraded <br>- `ERROR`: Error <br>- `NO_MONITOR`: No monitoring |
  | secret_name           | string                     | Name of the TLS certificate |
  | secret_id             | string                     | ID of the TLS certificate |
  | tls_certificate_id    | string                     | ID of the TLS certificate attached to the listener |
  | created_at            | string                     | Time when the resource was created <br>- ISO_8601 format <br>- UTC |
  | updated_at            | string                     | Time when the resource was last updated <br>- ISO_8601 format <br>- UTC |
---

# kakaocloud_load_balancer_listeners (Data Source)

The `kakaocloud_load_balancer_listeners` data source retrieves a list of listeners associated with KakaoCloud Load Balancers.
It supports filtering by attributes such as `name` and returns details including protocol, port, connection limits, TLS configuration, associated L7 policies, and SSL certificates.

Use this data source when you need to:
- Query multiple listeners dynamically instead of hardcoding listener IDs.
- Filter listeners by attributes (e.g., name, protocol, or port) for use in other Terraform resources.
- Validate that listeners are configured correctly before attaching them to load balancers or applying policies.

## Available filters

| Filter            | Type                        | Description |
|-----------------------|-----------------------------|-------------|
| id                    | string                     | Unique ID of the listener |
| load_balancer_id      | string                     | ID of the associated load balancer |
| protocol              | string                  | Protocol used by the listener <br>Possible values: <br>- `HTTP`: HTTP <br>- `TCP`: TCP <br>- `UDP`: UDP <br>- `TERMINATED_HTTPS`: SSL-terminated HTTPS |
| protocol_port         | string                     | Port number on which the listener receives traffic |
| provisioning_status   | string       | Provisioning status <br>- `ACTIVE`: Active <br>- `DELETED`: Deleted <br>- `ERROR`: Error <br>- `PENDING_CREATE`: Pending creation <br>- `PENDING_UPDATE`: Pending update <br>- `PENDING_DELETE`: Pending deletion |
| operating_status      | string | Operating status <br>- `ONLINE`: Online <br>- `DRAINING`: Draining connections <br>- `OFFLINE`: Offline <br>- `DEGRADED`: Degraded <br>- `ERROR`: Error <br>- `NO_MONITOR`: No monitoring |
| secret_name           | string                     | Name of the TLS certificate |
| secret_id             | string                     | ID of the TLS certificate |
| tls_certificate_id    | string                     | ID of the TLS certificate attached to the listener |
| created_at            | string                     | Time when the resource was created <br>- ISO_8601 format <br>- UTC |
| updated_at            | string                     | Time when the resource was last updated <br>- ISO_8601 format <br>- UTC |

## Example Usage

```terraform
# Copyright (c) HashiCorp, Inc.
# SPDX-License-Identifier: MPL-2.0

# List all load balancer listeners
data "kakaocloud_load_balancer_listeners" "all" {
  # No filters - get all listeners
}

# List listeners for a specific load balancer using filter
data "kakaocloud_load_balancer_listeners" "by_load_balancer" {
  filter = [
    {
      name  = "id"
      value = "your-listener-id-here" # Replace with your listener ID
    },
    {
      name  = "load_balancer_id"
      value = "your-load-balancer-id-here" # Replace with your load balancer ID
    },
    {
      name  = "protocol"
      value = "HTTP"
    },
    {
      name  = "protocol_port"
      value = "80"
    },
    {
      name  = "provisioning_status"
      value = "ACTIVE"
    },
    {
      name  = "operating_status"
      value = "ONLINE"
    },
    {
      name  = "secret_name"
      value = "your-secret-name" # Replace with your secret name
    },
    {
      name  = "secret_id"
      value = "your-secret-id" # Replace with your secret ID
    },
    {
      name  = "tls_certificate_id"
      value = "your-tls-certificate-id" # Replace with your TLS certificate ID
    },
    {
      name  = "created_at"
      value = "2021-01-01T00:00:00Z" # Replace with your created at
    },
    {
      name  = "updated_at"
      value = "2021-01-01T00:00:00Z" # Replace with your updated at
    }
  ]
}

# List listeners with filters
data "kakaocloud_load_balancer_listeners" "filtered" {
  filter = [
    {
      name  = "protocol"
      value = "HTTP"
    },
    {
      name  = "protocol_port"
      value = "80"
    },
    {
      name  = "provisioning_status"
      value = "ACTIVE"
    }
  ]
}

# List HTTPS listeners with TLS certificate filters
data "kakaocloud_load_balancer_listeners" "https_listeners" {
  filter = [
    {
      name  = "protocol"
      value = "TERMINATED_HTTPS"
    },
    {
      name  = "operating_status"
      value = "ONLINE"
    },
    {
      name  = "secret_name"
      value = "your-secret-name" # Replace with your secret name
    }
  ]
}

# List listeners by load balancer and TLS certificate
data "kakaocloud_load_balancer_listeners" "by_lb_and_tls" {
  filter = [
    {
      name  = "load_balancer_id"
      value = "your-load-balancer-id-here" # Replace with your load balancer ID
    },
    {
      name  = "tls_certificate_id"
      value = "your-tls-certificate-id" # Replace with your TLS certificate ID
    },
    {
      name  = "secret_id"
      value = "your-secret-id" # Replace with your secret ID
    }
  ]
}

# Output all listeners
output "all_listeners" {
  description = "List of all load balancer listeners"
  value = {
    count     = length(data.kakaocloud_load_balancer_listeners.all.listeners)
    ids       = data.kakaocloud_load_balancer_listeners.all.listeners[*].id
    protocols = data.kakaocloud_load_balancer_listeners.all.listeners[*].protocol
  }
}

# Output listeners by load balancer
output "load_balancer_listeners" {
  description = "Listeners for specific load balancer"
  value = {
    count     = length(data.kakaocloud_load_balancer_listeners.by_load_balancer.listeners)
    ids       = data.kakaocloud_load_balancer_listeners.by_load_balancer.listeners[*].id
    protocols = data.kakaocloud_load_balancer_listeners.by_load_balancer.listeners[*].protocol
  }
}

# Output filtered listeners
output "filtered_listeners" {
  description = "Filtered load balancer listeners"
  value = {
    count     = length(data.kakaocloud_load_balancer_listeners.filtered.listeners)
    ids       = data.kakaocloud_load_balancer_listeners.filtered.listeners[*].id
    protocols = data.kakaocloud_load_balancer_listeners.filtered.listeners[*].protocol
  }
}

# Output HTTPS listeners
output "https_listeners" {
  description = "HTTPS load balancer listeners"
  value = {
    count     = length(data.kakaocloud_load_balancer_listeners.https_listeners.listeners)
    ids       = data.kakaocloud_load_balancer_listeners.https_listeners.listeners[*].id
    protocols = data.kakaocloud_load_balancer_listeners.https_listeners.listeners[*].protocol
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `filter` (Attributes List) (see [below for nested schema](#nestedatt--filter))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `listeners` (Attributes List) (see [below for nested schema](#nestedatt--listeners))

<a id="nestedatt--filter"></a>
### Nested Schema for `filter`

Required:

- `name` (String)

Optional:

- `value` (String)


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--listeners"></a>
### Nested Schema for `listeners`

Required:

- `id` (String) Listener ID

Read-Only:

- `alpn_protocols` (List of String) ALPN (Application-Layer Protocol Negotiation) protocol list
- `connection_limit` (Number) Maximum number of simultaneous connections
- `created_at` (String) Time when the resource was created <br/> - ISO_8601 format  <br/> - Based on UTC
- `default_target_group_id` (String) Default target group ID
- `default_target_group_name` (String) Default target group name
- `description` (String) Description of the listener
- `insert_headers` (Attributes) Settings for HTTP headers to insert (see [below for nested schema](#nestedatt--listeners--insert_headers))
- `is_enabled` (Boolean) Whether the listener is enabled
- `l7_policies` (Attributes List) List of associated L7 policies (see [below for nested schema](#nestedatt--listeners--l7_policies))
- `load_balancer_id` (String) Associated load balancer ID
- `load_balancer_type` (String) Load balancer type
- `name` (String) Listener name
- `operating_status` (String) Operating status
- `project_id` (String) Project ID
- `protocol` (String) Listening protocol
- `protocol_port` (Number) Listening port number
- `provisioning_status` (String) Provisioning status
- `secrets` (Attributes List) List of associated certificates (see [below for nested schema](#nestedatt--listeners--secrets))
- `timeout_client_data` (Number) Client data receive timeout (seconds)
- `tls_certificate_id` (String) Associated TLS certificate ID
- `tls_ciphers` (String) TLS cipher suite list (applies only to `TERMINATED_HTTPS` protocol)
- `tls_versions` (List of String) Supported TLS versions list
- `updated_at` (String) Time when the resource was last updated <br/> - ISO_8601 format  <br/> - Based on UTC

<a id="nestedatt--listeners--insert_headers"></a>
### Nested Schema for `listeners.insert_headers`

Read-Only:

- `x_forwarded_for` (String) Indicates if the X-Forwarded-For header is inserted.
- `x_forwarded_port` (String) Indicates if the X-Forwarded-Port header is inserted.
- `x_forwarded_proto` (String) Indicates if the X-Forwarded-Proto header is inserted.


<a id="nestedatt--listeners--l7_policies"></a>
### Nested Schema for `listeners.l7_policies`

Read-Only:

- `action` (String) Policy action type
- `description` (String) Description of the L7 policy
- `id` (String) L7 policy ID
- `name` (String) L7 policy name
- `operating_status` (String) Operating status
- `position` (Number) Priority of the policy (smaller numbers have higher priority)
- `project_id` (String) Project ID
- `provisioning_status` (String) Provisioning status
- `redirect_http_code` (Number) HTTP status code (3xx) used for redirection
- `redirect_prefix` (String) Redirect target path prefix (`action=REDIRECT_PREFIX`)
- `redirect_target_group_id` (String) Redirect target group ID (`action=REDIRECT_TO_POOL`)
- `redirect_url` (String) Redirect target URL (http or https format, `action=REDIRECT_TO_URL`)
- `rules` (Attributes List) List of L7 rules (see [below for nested schema](#nestedatt--listeners--l7_policies--rules))

<a id="nestedatt--listeners--l7_policies--rules"></a>
### Nested Schema for `listeners.l7_policies.rules`

Read-Only:

- `compare_type` (String) Rule comparison method
- `id` (String) L7 rule ID
- `is_inverted` (Boolean) Whether the rule is inverted<br/>- If `true`, the opposite of the comparison result is considered a match
- `key` (String) Comparison key
- `operating_status` (String) Operating status
- `project_id` (String) Project ID
- `provisioning_status` (String) Provisioning status
- `type` (String) Rule type
- `value` (String) Value to compare



<a id="nestedatt--listeners--secrets"></a>
### Nested Schema for `listeners.secrets`

Read-Only:

- `creator_id` (String) Certificate creator ID
- `expiration` (String) Certificate expiration date
- `id` (String) Certificate ID
- `is_default` (Boolean) Whether it is the default certificate<br/>- If `true`, it is used as the default certificate for the listener
- `name` (String) Certificate name
- `secret_type` (String) Certificate type
- `status` (String) Certificate status

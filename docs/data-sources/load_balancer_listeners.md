---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kakaocloud_load_balancer_listeners Data Source - kakaocloud"
subcategory: "Load Balancer"
description: |-
  The kakaocloud_load_balancer_listeners data source retrieves a list of listeners associated with KakaoCloud Load Balancers.It supports filtering by attributes such as name and returns details including protocol, port, connection limits, TLS configuration, associated L7 policies, and SSL certificates.
  Use this data source when you need to:
  Query multiple listeners dynamically instead of hardcoding listener IDs.Filter listeners by attributes (e.g., name, protocol, or port) for use in other Terraform resources.Validate that listeners are configured correctly before attaching them to load balancers or applying policies.
  Available filters
  | Filter            | Type                        | Description |
  |-----------------------|-----------------------------|-------------|
  | id                    | string                     | Unique ID of the listener |
  | load_balancer_id      | string                     | ID of the associated load balancer |
  | protocol              | string                  | Protocol used by the listener  <br>- `HTTP`: HTTP <br>- `TCP`: TCP <br>- `UDP`: UDP <br>- `TERMINATED_HTTPS`: SSL-terminated HTTPS |
  | protocol_port         | string                     | Port number on which the listener receives traffic |
  | provisioning_status   | string       | Provisioning status <br>- `ACTIVE`: Active <br>- `DELETED`: Deleted <br>- `ERROR`: Error <br>- `PENDING_CREATE`: Pending creation <br>- `PENDING_UPDATE`: Pending update <br>- `PENDING_DELETE`: Pending deletion |
  | operating_status      | string | Operating status <br>- `ONLINE`: Online <br>- `DRAINING`: Draining connections <br>- `OFFLINE`: Offline <br>- `DEGRADED`: Degraded <br>- `ERROR`: Error <br>- `NO_MONITOR`: No monitoring |
  | secret_name           | string                     | Name of the TLS certificate |
  | secret_id             | string                     | ID of the TLS certificate |
  | tls_certificate_id    | string                     | ID of the TLS certificate attached to the listener |
  | created_at            | string                     | Time when the resource was created <br>- ISO_8601 format <br>- UTC |
  | updated_at            | string                     | Time when the resource was last updated <br>- ISO_8601 format <br>- UTC |
---

# kakaocloud_load_balancer_listeners (Data Source)

The `kakaocloud_load_balancer_listeners` data source retrieves a list of listeners associated with KakaoCloud Load
Balancers.  
It supports filtering by attributes such as `name` and returns details including protocol, port, connection limits, TLS
configuration, associated L7 policies, and SSL certificates.

Use this data source when you need to:

- Query multiple listeners dynamically instead of hardcoding listener IDs.
- Filter listeners by attributes (e.g., name, protocol, or port) for use in other Terraform resources.
- Validate that listeners are configured correctly before attaching them to load balancers or applying policies.

## Available filters

| Filter              | Type   | Description                                                                                                                                                                                                       |
|---------------------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id                  | string | Unique ID of the listener                                                                                                                                                                                         |
| load_balancer_id    | string | ID of the associated load balancer                                                                                                                                                                                |
| protocol            | string | Protocol used by the listener  <br>- `HTTP`: HTTP <br>- `TCP`: TCP <br>- `UDP`: UDP <br>- `TERMINATED_HTTPS`: SSL-terminated HTTPS                                                                                |
| protocol_port       | string | Port number on which the listener receives traffic                                                                                                                                                                |
| provisioning_status | string | Provisioning status <br>- `ACTIVE`: Active <br>- `DELETED`: Deleted <br>- `ERROR`: Error <br>- `PENDING_CREATE`: Pending creation <br>- `PENDING_UPDATE`: Pending update <br>- `PENDING_DELETE`: Pending deletion |
| operating_status    | string | Operating status <br>- `ONLINE`: Online <br>- `DRAINING`: Draining connections <br>- `OFFLINE`: Offline <br>- `DEGRADED`: Degraded <br>- `ERROR`: Error <br>- `NO_MONITOR`: No monitoring                         |
| secret_name         | string | Name of the TLS certificate                                                                                                                                                                                       |
| secret_id           | string | ID of the TLS certificate                                                                                                                                                                                         |
| tls_certificate_id  | string | ID of the TLS certificate attached to the listener                                                                                                                                                                |
| created_at          | string | Time when the resource was created <br>- ISO_8601 format <br>- UTC                                                                                                                                                |
| updated_at          | string | Time when the resource was last updated <br>- ISO_8601 format <br>- UTC                                                                                                                                           |

## Example Usage

```terraform
# Copyright (c) HashiCorp, Inc.
# SPDX-License-Identifier: MPL-2.0

# List all load balancer listeners (no filters)
data "kakaocloud_load_balancer_listeners" "all" {}

# List listeners filtered by load balancer ID and protocol
data "kakaocloud_load_balancer_listeners" "filtered" {
  filter = [
    {
      name  = "load_balancer_id"
      value = "<your-load-balancer-id>"
    },
    {
      name  = "protocol"
      value = "HTTP" # HTTP, TCP, UDP, TERMINATED_HTTPS
    },
    {
      name  = "provisioning_status"
      value = "ACTIVE" # ACTIVE, DELETED, ERROR, PENDING_CREATE, PENDING_UPDATE, PENDING_DELETE
    }
  ]
}

# Retrieve listeners by load balancer and TLS certificate
data "kakaocloud_load_balancer_listeners" "by_lb_and_tls" {
  filter = [
    {
      name  = "load_balancer_id"
      value = "<your-load-balancer-id>"
    },
    {
      name  = "tls_certificate_id"
      value = "<your-tls-cert-id>"
    },
    {
      name  = "secret_id"
      value = "<your-secret-id>"
    }
  ]
}

# Output: All listeners
output "all_listeners" {
  description = "List of all load balancer listeners"
  value = [
    for listener in data.kakaocloud_load_balancer_listeners.all.listeners : {
      id       = listener.id
      protocol = listener.protocol
      port     = listener.protocol_port
    }
  ]
}

# Output: Filtered listeners
output "filtered_listeners" {
  description = "List of listeners matching filter criteria"
  value = [
    for listener in data.kakaocloud_load_balancer_listeners.filtered.listeners : {
      id       = listener.id
      name     = listener.name
      protocol = listener.protocol
      status   = listener.provisioning_status
    }
  ]
}

# Output: Listeners with TLS
output "tls_listeners" {
  description = "Listeners associated with specified TLS certificate"
  value = [
    for listener in data.kakaocloud_load_balancer_listeners.by_lb_and_tls.listeners : {
      id        = listener.id
      protocol  = listener.protocol
      tls_cert  = listener.tls_certificate_id
      secret_id = listener.secrets[0].id
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->

## Argument Reference

- `filter` (Optional, Attributes List) Filters to narrow down the returned results. (
  see [below for nested schema](#nestedatt--filter))
- `timeouts` (Optional, Attributes) Custom timeout settings. (See [below for nested schema](#nestedatt--timeouts).)

## Attribute Reference

The following attributes are exported:

- `listeners` (Attributes List) List of listeners that match the specified filters (
  see [below for nested schema](#nestedatt--listeners))

<a id="nestedatt--filter"></a>

### Nested Schema for `filter`

- `name` (Required, String) Name of the attribute to filter by.

- `value` (Optional, String) Value to match for the specified filter attribute.

<a id="nestedatt--timeouts"></a>

### Nested Schema for `timeouts`

- `read` (Optional, String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration)
  consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (
  minutes), "h" (hours).

<a id="nestedatt--listeners"></a>

### Nested Schema for `listeners`

- `alpn_protocols` (List of String) ALPN (Application-Layer Protocol Negotiation) protocol list
- `connection_limit` (Number) Maximum number of simultaneous connections
- `created_at` (String) Time when the resource was created <br/> - ISO_8601 format  <br/> - Based on UTC
- `default_target_group_id` (String) Default target group ID
- `default_target_group_name` (String) Default target group name
- `description` (String) Description of the listener
- `id` (String) Listener ID
- `insert_headers` (Attributes) Settings for HTTP headers to insert (
  see [below for nested schema](#nestedatt--listeners--insert_headers))
- `is_enabled` (Boolean) Whether the listener is enabled
- `l7_policies` (Attributes List) List of associated L7 policies (
  see [below for nested schema](#nestedatt--listeners--l7_policies))
- `load_balancer_id` (String) Associated load balancer ID
- `load_balancer_type` (String) Load balancer type
- `name` (String) Listener name
- `operating_status` (String) Operating status
- `project_id` (String) Project ID
- `protocol` (String) Listening protocol
- `protocol_port` (Number) Listening port number
- `provisioning_status` (String) Provisioning status
- `secrets` (Attributes List) List of associated certificates (
  see [below for nested schema](#nestedatt--listeners--secrets))
- `timeout_client_data` (Number) Client data receive timeout (seconds)
- `tls_certificate_id` (String) Associated TLS certificate ID
- `tls_ciphers` (String) TLS cipher suite list (applies only to `TERMINATED_HTTPS` protocol)
- `tls_versions` (List of String) Supported TLS versions list
- `updated_at` (String) Time when the resource was last updated <br/> - ISO_8601 format  <br/> - Based on UTC

<a id="nestedatt--listeners--insert_headers"></a>

### Nested Schema for `listeners.insert_headers`

- `x_forwarded_for` (String) Indicates if the X-Forwarded-For header is inserted.
- `x_forwarded_port` (String) Indicates if the X-Forwarded-Port header is inserted.
- `x_forwarded_proto` (String) Indicates if the X-Forwarded-Proto header is inserted.

<a id="nestedatt--listeners--l7_policies"></a>

### Nested Schema for `listeners.l7_policies`

- `action` (String) Policy action type
- `description` (String) Description of the L7 policy
- `id` (String) L7 policy ID
- `name` (String) L7 policy name
- `operating_status` (String) Operating status
- `position` (Number) Priority of the policy (smaller numbers have higher priority)
- `project_id` (String) Project ID
- `provisioning_status` (String) Provisioning status
- `redirect_http_code` (Number) HTTP status code (3xx) used for redirection
- `redirect_prefix` (String) Redirect target path prefix (`action=REDIRECT_PREFIX`)
- `redirect_target_group_id` (String) Redirect target group ID (`action=REDIRECT_TO_POOL`)
- `redirect_url` (String) Redirect target URL (http or https format, `action=REDIRECT_TO_URL`)
- `rules` (Attributes List) List of L7 rules (see [below for nested schema](#nestedatt--listeners--l7_policies--rules))

<a id="nestedatt--listeners--l7_policies--rules"></a>

### Nested Schema for `listeners.l7_policies.rules`

- `compare_type` (String) Rule comparison method
- `id` (String) L7 rule ID
- `is_inverted` (Boolean) Whether the rule is inverted<br/>- If `true`, the opposite of the comparison result is
  considered a match
- `key` (String) Comparison key
- `operating_status` (String) Operating status
- `project_id` (String) Project ID
- `provisioning_status` (String) Provisioning status
- `type` (String) Rule type
- `value` (String) Value to compare

<a id="nestedatt--listeners--secrets"></a>

### Nested Schema for `listeners.secrets`

- `creator_id` (String) Certificate creator ID
- `expiration` (String) Certificate expiration date
- `id` (String) Certificate ID
- `is_default` (Boolean) Whether it is the default certificate<br/>- If `true`, it is used as the default certificate
  for the listener
- `name` (String) Certificate name
- `secret_type` (String) Certificate type
- `status` (String) Certificate status




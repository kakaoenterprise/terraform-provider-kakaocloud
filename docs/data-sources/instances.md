---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kakaocloud_instances Data Source - kakaocloud"
subcategory: ""
description: |-
  The kakaocloud_instances data source retrieves a list of compute instances in KakaoCloud.
  It supports filtering by attributes such as name and returns detailed information about each instance, including flavor, image, network interfaces, attached volumes, availability zone, security groups, and current status.
  Use this data source when you need to:
  Query multiple existing instances dynamically instead of hardcoding instance IDs.Filter instances by attributes (e.g., name, flavor, or availability zone) to use in other resources.Validate instance configurations or states before applying changes in your Terraform environment.
  Available filters
  | Filter         | Type            | Description |
  |-------------------|-----------------|-------------|
  | id                | string          | ID of the instance to query |
  | name              | string          | Name of the instance <br>- Used when searching for instances containing a specific name |
  | vm_state          | string          | State code of the instance  |
  | flavor_name       | string          | Name of the instance flavor (type) |
  | image_name        | string          | Name of the image used when creating the instance |
  | private_ip        | string          | Private IP address assigned to the instance (IPv4 format) |
  | public_ip         | string          | Public IP address associated with the instance |
  | availability_zone | string | Availability zone of the instance <br>Possible values: <br>- `kr-central-2-a`: Availability zone `kr-central-2-a` <br>- `kr-central-2-b`: Availability zone `kr-central-2-b` <br>- `kr-central-2-c`: Availability zone `kr-central-2-c` |
  | instance_type     | string    | Type of the instance <br>Possible values: <br>- `vm`: Virtual Machine type <br>- `bm`: Bare Metal Server type <br>- `gpu`: GPU type |
  | status            | string          | Detailed status information of the instance <br>- Internally defined status values |
  | user_id           | string          | ID of the user who created the instance |
  | hostname          | string          | Hostname of the instance (e.g., internal DNS name) |
  | os_type           | string          | Operating system type |
  | is_hadoop         | boolean         | Whether the instance was created for a Hadoop environment |
  | is_k8se           | boolean         | Whether the instance was created for a Kubernetes Engine environment |
---

# kakaocloud_instances (Data Source)

The `kakaocloud_instances` data source retrieves a list of compute instances in KakaoCloud.
It supports filtering by attributes such as `name` and returns detailed information about each instance, including flavor, image, network interfaces, attached volumes, availability zone, security groups, and current status.

Use this data source when you need to:
- Query multiple existing instances dynamically instead of hardcoding instance IDs.
- Filter instances by attributes (e.g., name, flavor, or availability zone) to use in other resources.
- Validate instance configurations or states before applying changes in your Terraform environment.

## Available filters

| Filter         | Type            | Description |
|-------------------|-----------------|-------------|
| id                | string          | ID of the instance to query |
| name              | string          | Name of the instance <br>- Used when searching for instances containing a specific name |
| vm_state          | string          | State code of the instance  |
| flavor_name       | string          | Name of the instance flavor (type) |
| image_name        | string          | Name of the image used when creating the instance |
| private_ip        | string          | Private IP address assigned to the instance (IPv4 format) |
| public_ip         | string          | Public IP address associated with the instance |
| availability_zone | string | Availability zone of the instance <br>Possible values: <br>- `kr-central-2-a`: Availability zone `kr-central-2-a` <br>- `kr-central-2-b`: Availability zone `kr-central-2-b` <br>- `kr-central-2-c`: Availability zone `kr-central-2-c` |
| instance_type     | string    | Type of the instance <br>Possible values: <br>- `vm`: Virtual Machine type <br>- `bm`: Bare Metal Server type <br>- `gpu`: GPU type |
| status            | string          | Detailed status information of the instance <br>- Internally defined status values |
| user_id           | string          | ID of the user who created the instance |
| hostname          | string          | Hostname of the instance (e.g., internal DNS name) |
| os_type           | string          | Operating system type |
| is_hadoop         | boolean         | Whether the instance was created for a Hadoop environment |
| is_k8se           | boolean         | Whether the instance was created for a Kubernetes Engine environment |

## Example Usage

```terraform
# Copyright (c) HashiCorp, Inc.
# SPDX-License-Identifier: MPL-2.0

# List all instances
data "kakaocloud_instances" "all" {
  # No filters - get all instances
}

# List instances with comprehensive filters
data "kakaocloud_instances" "filtered" {
  filter = [
    {
      name  = "name"
      value = "your-instance-name" # Replace with your instance name
    },
    {
      name  = "id"
      value = "your-instance-id" # Replace with your instance ID
    },
    {
      name  = "status"
      value = "ACTIVE" # ACTIVE, BUILDING, DELETED, ERROR, HARD_REBOOT, MIGRATING, PAUSED, REBOOT, RESCUE, RESIZE, REVERT_RESIZE, SHELVED, SHELVED_OFFLOADED, SHUTOFF, SOFT_DELETED, SUSPENDED, UNKNOWN, VERIFY_RESIZE
    },
    {
      name  = "vm_state"
      value = "active" # active, building, deleted, error, hard_reboot, migrating, paused, reboot, rescue, resize, revert_resize, shelved, shelved_offloaded, shutoff, soft_deleted, suspended, unknown, verify_resize
    },
    {
      name  = "flavor_name"
      value = "your-flavor-name" # Replace with your flavor name
    },
    {
      name  = "image_name"
      value = "your-image-name" # Replace with your image name
    },
    {
      name  = "private_ip"
      value = "192.168.1.100" # Replace with your private IP
    },
    {
      name  = "public_ip"
      value = "203.0.113.1" # Replace with your public IP
    },
    {
      name  = "availability_zone"
      value = "kr-central-2-a" # Replace with your availability zone
    },
    {
      name  = "instance_type"
      value = "COMPUTE" # COMPUTE, MEMORY, STORAGE, GPU
    },
    {
      name  = "user_id"
      value = "your-user-id" # Replace with your user ID
    },
    {
      name  = "hostname"
      value = "your-hostname" # Replace with your hostname
    },
    {
      name  = "os_type"
      value = "linux" # linux, windows
    },
    {
      name  = "is_hadoop"
      value = "false" # true, false
    },
    {
      name  = "is_k8se"
      value = "false" # true, false
    },
    {
      name  = "created_at"
      value = "2024-01-01T00:00:00Z" # Replace with creation time (RFC3339 format)
    },
    {
      name  = "updated_at"
      value = "2024-12-31T23:59:59Z" # Replace with update time (RFC3339 format)
    }
  ]
}

# Output all instances
output "all_instances" {
  description = "List of all instances"
  value = {
    count = length(data.kakaocloud_instances.all.instances)
    ids   = data.kakaocloud_instances.all.instances[*].id
    names = data.kakaocloud_instances.all.instances[*].name
  }
}

# Output filtered instances
output "filtered_instances" {
  description = "List of filtered instances"
  value = {
    count = length(data.kakaocloud_instances.filtered.instances)
    ids   = data.kakaocloud_instances.filtered.instances[*].id
    names = data.kakaocloud_instances.filtered.instances[*].name
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `filter` (Attributes List) (see [below for nested schema](#nestedatt--filter))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `instances` (Attributes List) (see [below for nested schema](#nestedatt--instances))

<a id="nestedatt--filter"></a>
### Nested Schema for `filter`

Required:

- `name` (String)

Optional:

- `value` (String)


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--instances"></a>
### Nested Schema for `instances`

Read-Only:

- `addresses` (Attributes List) Network addresses associated with the instance (see [below for nested schema](#nestedatt--instances--addresses))
- `attached_volume_count` (Number) Number of block storage volumes attached to the instance
- `attached_volumes` (Attributes List) List of attached volumes (see [below for nested schema](#nestedatt--instances--attached_volumes))
- `availability_zone` (String) Name of the availability zone where the instance was created
- `created_at` (String) Time when the resource was created <br/> - ISO_8601 format <br/> - Based on UTC
- `description` (String) Description of the instance
- `flavor` (Attributes) Instance type (see [below for nested schema](#nestedatt--instances--flavor))
- `hostname` (String) Host name of the instance
- `id` (String) Instance ID
- `image` (Attributes) Image information of the instance (see [below for nested schema](#nestedatt--instances--image))
- `instance_type` (String) Instance type
- `is_hadoop` (Boolean) Whether the instance was created for a Hadoop environment
- `is_hyper_threading` (Boolean) Whether hyper-threading is enabled
- `is_k8se` (Boolean) Whether the instance was created for a Kubernetes Engine environment
- `key_name` (String) Key pair name applied to the instance
- `metadata` (Map of String) User-defined metadata
- `name` (String) Instance name
- `power_state` (String) Power state code
- `project_id` (String) Project ID the instance belongs to
- `security_group_count` (Number) Number of security groups attached to the instance
- `security_groups` (Attributes Set) List of security groups attached to the instance (see [below for nested schema](#nestedatt--instances--security_groups))
- `status` (String) Instance status <br/> - Refer to [Instance state and billing](https://docs.kakaocloud.com/en/service/bcs/vm/vm-main#instance-state-and-billing)
- `task_state` (String) Current task state
- `updated_at` (String) Time when the resource was last modified <br/> - ISO_8601 format <br/> - Based on UTC
- `user_id` (String) ID of the user who created the instance
- `vm_state` (String) Internal VM state value

<a id="nestedatt--instances--addresses"></a>
### Nested Schema for `instances.addresses`

Read-Only:

- `network_interface_id` (String) Connected network interface ID
- `private_ip` (String) Private IP address (IPv4 format)
- `public_ip` (String) Public IP address


<a id="nestedatt--instances--attached_volumes"></a>
### Nested Schema for `instances.attached_volumes`

Read-Only:

- `created_at` (String) Time when the resource was created <br/> - ISO_8601 format <br/> - Based on UTC
- `id` (String) ID of the attached volume
- `is_delete_on_termination` (Boolean) Whether the volume is automatically deleted when the instance is terminated
- `is_root` (Boolean) Whether the volume is the root disk
- `mount_point` (String) Mount path of the volume on the instance
- `name` (String) Volume name
- `size` (Number) Volume size (in GB)
- `status` (String) Volume status
- `type` (String) Volume type


<a id="nestedatt--instances--flavor"></a>
### Nested Schema for `instances.flavor`

Read-Only:

- `disk_type` (String) Disk type
- `group` (String) Instance type group
- `hw_count` (Number) Number of hardware components included in this instance type <br/> - Example: number of GPUs
- `hw_type` (String) Hardware type <br/> - Example: GPU
- `id` (String) Instance type ID
- `instance_family` (String) Instance family
- `is_burstable` (Boolean) Whether it is a [burstable instance](https://docs.kakaocloud.com/en/service/bcs/bcs-instance/bcs-type/general-purpose/burstable-main)
- `is_hyper_threading_supported` (Boolean) Whether hyper-threading is supported
- `manufacturer` (String) Manufacturer information
- `maximum_network_interfaces` (Number) Maximum number of network interfaces
- `memory_mb` (Number) Memory size (MB, default: 0)
- `name` (String) Instance type name
- `os_distro` (List of String) Operating system distribution
- `real_vcpus` (Number) Number of actually allocated vCPUs
- `root_gb` (Number) Root disk size (GB, default: 0)
- `vcpus` (Number) Number of vCPUs


<a id="nestedatt--instances--image"></a>
### Nested Schema for `instances.image`

Read-Only:

- `created_at` (String) Time when the resource was created <br/> - ISO_8601 format <br/> - Based on UTC
- `description` (String) Description of the image
- `disk_format` (String) Disk format of the image
- `id` (String) Unique ID of the image
- `image_type` (String) Image type
- `instance_type` (String) Type of instance
- `is_windows` (Boolean) Whether the image is a Windows operating system
- `member_status` (String) Status of the shared image
- `min_disk` (Number) Minimum disk size required to use the image (GB)
- `min_memory` (Number) Minimum memory size required to use the image (MB)
- `name` (String) Image name
- `os_admin` (String) Default administrator account name of the image
- `os_architecture` (String) Operating system architecture
- `os_distro` (String) Operating system distribution
- `os_type` (String) Operating system type
- `owner` (String) Owner of the image (project ID that owns the image)
- `size` (Number) Image size (in bytes)
- `status` (String) Image status
- `updated_at` (String) Time when the resource was last modified <br/> - ISO_8601 format <br/> - Based on UTC


<a id="nestedatt--instances--security_groups"></a>
### Nested Schema for `instances.security_groups`

Read-Only:

- `id` (String) Security group ID
- `name` (String) Security group name

---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kakaocloud_load_balancer_target_group_members Data Source - kakaocloud"
subcategory: "Load Balancer"
description: |-
  The kakaocloud_load_balancer_target_group_members data source retrieves information about the members associated with a specific Load Balancer target group in KakaoCloud.
  This data source is useful when you need to:
  List all members registered in a target group.Filter members by attributes such as ID, name, protocol, instance ID, subnet, or operating status.Access details such as IP addresses, ports, weights, health check settings, and security group associations.Dynamically reference target group member information in Terraform configurations without hardcoding values.
  Available filters
  | Filter               | Type                        | Description |
  |-----------------------|-----------------------------|-------------|
  | `ip`                 | string                      | IP address of the target instance |
  | `protocol_port`       | string                      | Port number of the connection |
  | `weight`             | string                      | Traffic distribution weight |
  | `provisioning_status`| ProvisioningStatus           | Provisioning status <br/>Possible values: <br/>- `ACTIVE`: Active <br/>- `DELETED`: Deleted <br/>- `ERROR`: Error <br/>- `PENDING_CREATE`: Pending creation <br/>- `PENDING_UPDATE`: Pending update <br/>- `PENDING_DELETE`: Pending deletion |
  | `operating_status`   | LoadBalancerOperatingStatus  | Operating status <br/>Possible values: <br/>- `ONLINE`: Online <br/>- `DRAINING`: Draining connections <br/>- `OFFLINE`: Offline <br/>- `DEGRADED`: Degraded <br/>- `ERROR`: Error <br/>- `NO_MONITOR`: No monitoring |
  | `instance_id`        | string                      | Unique ID of the instance |
  | `instance_name`      | string                      | Name of the associated instance |
  | `vpc_id`             | string                      | VPC ID of the target instance |
  | `subnet_id`          | string                      | Subnet ID of the target instance |
  | `subnet_name`        | string                      | Subnet name of the target instance |
  | `security_group_name`| string                      | Name of the security group |
  | `created_at`         | string                      | Time when the resource was created <br/>- ISO_8601 format <br/>- UTC |
  | `updated_at`         | string                      | Time when the resource was last updated <br/>- ISO_8601 format <br/>- UTC |
---

# kakaocloud_load_balancer_target_group_members (Data Source)

The `kakaocloud_load_balancer_target_group_members` data source retrieves information about the members associated with
a specific Load Balancer target group in KakaoCloud.

This data source is useful when you need to:

- List all members registered in a target group.
- Filter members by attributes such as ID, name, protocol, instance ID, subnet, or operating status.
- Access details such as IP addresses, ports, weights, health check settings, and security group associations.
- Dynamically reference target group member information in Terraform configurations without hardcoding values.

## Available filters

| Filter                | Type                        | Description                                                                                                                                                                                                                                   |
|-----------------------|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `ip`                  | string                      | IP address of the target instance                                                                                                                                                                                                             |
| `protocol_port`       | string                      | Port number of the connection                                                                                                                                                                                                                 |
| `weight`              | string                      | Traffic distribution weight                                                                                                                                                                                                                   |
| `provisioning_status` | ProvisioningStatus          | Provisioning status <br/>Possible values: <br/>- `ACTIVE`: Active <br/>- `DELETED`: Deleted <br/>- `ERROR`: Error <br/>- `PENDING_CREATE`: Pending creation <br/>- `PENDING_UPDATE`: Pending update <br/>- `PENDING_DELETE`: Pending deletion |
| `operating_status`    | LoadBalancerOperatingStatus | Operating status <br/>Possible values: <br/>- `ONLINE`: Online <br/>- `DRAINING`: Draining connections <br/>- `OFFLINE`: Offline <br/>- `DEGRADED`: Degraded <br/>- `ERROR`: Error <br/>- `NO_MONITOR`: No monitoring                         |
| `instance_id`         | string                      | Unique ID of the instance                                                                                                                                                                                                                     |
| `instance_name`       | string                      | Name of the associated instance                                                                                                                                                                                                               |
| `vpc_id`              | string                      | VPC ID of the target instance                                                                                                                                                                                                                 |
| `subnet_id`           | string                      | Subnet ID of the target instance                                                                                                                                                                                                              |
| `subnet_name`         | string                      | Subnet name of the target instance                                                                                                                                                                                                            |
| `security_group_name` | string                      | Name of the security group                                                                                                                                                                                                                    |
| `created_at`          | string                      | Time when the resource was created <br/>- ISO_8601 format <br/>- UTC                                                                                                                                                                          |
| `updated_at`          | string                      | Time when the resource was last updated <br/>- ISO_8601 format <br/>- UTC                                                                                                                                                                     |

## Example Usage

```terraform
# Copyright (c) HashiCorp, Inc.
# SPDX-License-Identifier: MPL-2.0

# Get all members of the target group
data "kakaocloud_load_balancer_target_group_members" "all" {
  target_group_id = "<your-target-group-id>"
}

# Get members filtered by instance ID and status
data "kakaocloud_load_balancer_target_group_members" "filtered" {
  target_group_id = "<your-target-group-id>"

  filter = [
    {
      name  = "instance_id"
      value = "<your-instance-id>"
    },
    {
      name  = "operating_status"
      value = "ONLINE" # ONLINE, DRAINING, OFFLINE, DEGRADED, ERROR, NO_MONITOR
    },
    {
      name  = "provisioning_status"
      value = "ACTIVE" # ACTIVE, DELETED, ERROR, PENDING_CREATE, PENDING_UPDATE, PENDING_DELETE
    }
  ]
}

# Retrieve members filtered by VPC and Subnet
data "kakaocloud_load_balancer_target_group_members" "by_vpc_and_subnet" {
  target_group_id = "<your-target-group-id>"

  filter = [
    {
      name  = "vpc_id"
      value = "<your-vpc-id>"
    },
    {
      name  = "subnet_id"
      value = "<your-subnet-id>"
    },
    {
      name  = "security_group_name"
      value = "<your-sg-name>"
    }
  ]
}

# Output: All members
output "all_target_group_members" {
  description = "All target group members"
  value = [
    for member in data.kakaocloud_load_balancer_target_group_members.all.members : {
      id     = member.id
      ip     = member.address
      port   = member.protocol_port
      status = member.operating_status
    }
  ]
}

# Output: Filtered members
output "filtered_target_group_members" {
  description = "Target group members matching filter criteria"
  value = [
    for member in data.kakaocloud_load_balancer_target_group_members.filtered.members : {
      id       = member.id
      name     = member.name
      ip       = member.address
      instance = member.instance_name
      weight   = member.weight
    }
  ]
}

# Output: Members by VPC/Subnet
output "vpc_subnet_target_group_members" {
  description = "Target group members filtered by VPC and Subnet"
  value = [
    for member in data.kakaocloud_load_balancer_target_group_members.by_vpc_and_subnet.members : {
      id       = member.id
      ip       = member.address
      subnet   = member.subnet.name
      sg_names = member.security_groups[*].name
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->

## Argument Reference

- `target_group_id` (Required, String) The ID of the target group to list members for

- `filter` (Optional, Attributes List) Filters to narrow down the returned results. (
  see [below for nested schema](#nestedatt--filter))
- `timeouts` (Optional, Attributes) Custom timeout settings. (See [below for nested schema](#nestedatt--timeouts).)

## Attribute Reference

The following attributes are exported:

- `members` (Attributes List) List of load balancer target group members returned by this data source. (
  see [below for nested schema](#nestedatt--members))

<a id="nestedatt--filter"></a>

### Nested Schema for `filter`

- `name` (Required, String) Name of the attribute to filter by.

- `value` (Optional, String) Value to match for the specified filter attribute.

<a id="nestedatt--timeouts"></a>

### Nested Schema for `timeouts`

- `read` (Optional, String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration)
  consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (
  minutes), "h" (hours).

<a id="nestedatt--members"></a>

### Nested Schema for `members`

- `address` (String) Target IP address
- `created_at` (String) Time when the resource was created <br/> - ISO_8601 format  <br/> - Based on UTC
- `id` (String) Target ID
- `instance_id` (String) Unique ID of the instance
- `instance_name` (String) Instance name
- `is_backup` (Boolean) Indicates whether the target is registered as a backup member.
- `monitor_port` (Number) Health check port
- `name` (String) Target name
- `network_interface_id` (String) Network interface ID
- `operating_status` (String) Operating status
- `project_id` (String) Project ID
- `protocol_port` (Number) Listening port number
- `provisioning_status` (String) Provisioning status
- `security_groups` (Attributes List) List of security groups (
  see [below for nested schema](#nestedatt--members--security_groups))
- `subnet` (Attributes) Subnet information (see [below for nested schema](#nestedatt--members--subnet))
- `subnet_id` (String) Subnet ID where the target instance is located.
- `target_group_id` (String) Target group ID
- `updated_at` (String) Time when the resource was last updated <br/> - ISO_8601 format  <br/> - Based on UTC
- `vpc_id` (String) Unique VPC ID
- `weight` (Number) Traffic distribution weight

<a id="nestedatt--members--security_groups"></a>

### Nested Schema for `members.security_groups`

- `id` (String) Security group ID
- `name` (String) Security group name

<a id="nestedatt--members--subnet"></a>

### Nested Schema for `members.subnet`

- `availability_zone` (String) Availability zone where the subnet is located
- `cidr_block` (String) IPv4 CIDR block of the subnet
- `health_check_ips` (List of String) List of IP addresses used for health checks
- `id` (String) Subnet ID
- `name` (String) Subnet name



